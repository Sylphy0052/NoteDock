# NoteDock

ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å°‘äººæ•°ãƒãƒ¼ãƒ å‘ã‘ã® Markdown ãƒ™ãƒ¼ã‚¹ãƒŠãƒ¬ãƒƒã‚¸è“„ç© Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## æ¦‚è¦

NoteDock ã¯ã€ãƒãƒ¼ãƒˆã« PDF / PPTX / ç”»åƒ / ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã‚’ç´ä»˜ã‘ã€ãƒãƒ¼ãƒˆåŒå£«ã‚‚ `#1` ã®ã‚ˆã†ãªå†…éƒ¨ãƒªãƒ³ã‚¯ã§ã¤ãªãã€ã€Œèª¿æŸ»ãƒ»è¨­è¨ˆãƒ»è­°è«–ã®æƒ…å ±ã€ã‚’ä¸€ç®‡æ‰€ã«é›†ç´„ã™ã‚‹ãŸã‚ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æ©Ÿèƒ½ä¸€è¦§

| æ©Ÿèƒ½ | çŠ¶æ…‹ | èª¬æ˜ |
|------|------|------|
| ãƒãƒ¼ãƒˆ CRUD | âœ… | Markdown ãƒãƒ¼ãƒˆã®ä½œæˆãƒ»é–²è¦§ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |
| ãƒ©ã‚¤ãƒ–ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | âœ… | ç·¨é›†ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  Markdown ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| ã‚³ãƒ¡ãƒ³ãƒˆ | âœ… | ãƒãƒ¼ãƒˆã¸ã®ã‚¹ãƒ¬ãƒƒãƒ‰å½¢å¼ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ |
| ã‚¿ã‚°ç®¡ç† | âœ… | ã‚¿ã‚°ã®ä»˜ä¸ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° |
| ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜ | âœ… | ç”»åƒãƒ»PDFç­‰ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| ãƒªãƒ³ã‚¯ãƒãƒƒãƒ— | âœ… | ãƒãƒ¼ãƒˆé–“ãƒªãƒ³ã‚¯ã®ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ï¼ˆD3.jsï¼‰ |
| ã‚´ãƒŸç®± | âœ… | ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆãƒ»å¾©å…ƒæ©Ÿèƒ½ |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ | âœ… | ç·¨é›†å±¥æ­´ã®ä¿å­˜ãƒ»å¾©å…ƒ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | âœ… | ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¿å­˜ãƒ»é©ç”¨ |
| ã‚¯ã‚¤ãƒƒã‚¯ã‚ªãƒ¼ãƒ—ãƒ³ | âœ… | Ctrl+K ã§ãƒãƒ¼ãƒˆæ¤œç´¢ |
| ãƒ†ãƒ¼ãƒåˆ‡æ›¿ | âœ… | ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ |
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | âœ… | ZIP å½¢å¼ã§ã®ä¸€æ‹¬å…¥å‡ºåŠ› |
| ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç† | ğŸš§ | ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚ˆã‚‹ãƒãƒ¼ãƒˆæ•´ç†ï¼ˆé–‹ç™ºä¸­ï¼‰ |

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Frontend

- Vite + React 18 + TypeScript
- React Router v6, TanStack Query v5
- react-markdown + remark-gfm + Mermaid
- D3.jsï¼ˆãƒªãƒ³ã‚¯ãƒãƒƒãƒ—å¯è¦–åŒ–ï¼‰

### Backend

- FastAPI (Python >=3.11)
- SQLAlchemy 2.0 + Alembic
- PostgreSQL 16
- Pydantic v2

### Infrastructure

- Docker Compose
- MinIO (S3äº’æ›ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦æ¡ä»¶

- Docker & Docker Compose
- Node.js 20+ (é–‹ç™ºæ™‚)
- Python >=3.11 (é–‹ç™ºæ™‚)
- npm ã¾ãŸã¯ pnpm (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚)
- uv ã¾ãŸã¯ Poetry (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚)

### èµ·å‹•æ–¹æ³•

1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

    ```bash
    cp .env.example .env
    ```

2. Docker Compose ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’èµ·å‹•

    ```bash
    docker compose up -d db minio createbuckets
    ```

3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•

    ```bash
    cd backend

    # uv ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆæ¨å¥¨ï¼‰
    uv venv
    source .venv/bin/activate
    uv pip install -e .
    alembic upgrade head
    uvicorn app.main:app --reload --port 8000

    # Poetry ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
    poetry install
    poetry run alembic upgrade head
    poetry run uvicorn app.main:app --reload --port 8000
    ```

4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•

    ```bash
    cd frontend
    npm install
    npm run dev
    ```

5. ã‚¢ã‚¯ã‚»ã‚¹
    - Frontend: <http://localhost:3000>
    - Backend API: <http://localhost:8000>
    - API Docs: <http://localhost:8000/api/docs>
    - MinIO Console: <http://localhost:9001>

## é–‹ç™º

### Backend é–‹ç™º

```bash
cd backend

# uv ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆæ¨å¥¨ï¼‰
uv venv
source .venv/bin/activate
uv pip install -e ".[dev]"
uvicorn app.main:app --reload

# Poetry ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
poetry install
poetry run uvicorn app.main:app --reload
```

### Frontend é–‹ç™º

```bash
cd frontend
npm install
npm run dev

# ã¾ãŸã¯ pnpm ã‚’ä½¿ç”¨
pnpm install
pnpm dev
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# Backend ãƒ†ã‚¹ãƒˆ
cd backend
pytest -v

# Frontend ãƒ†ã‚¹ãƒˆ
cd frontend
npm test
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```text
notedock/
â”œâ”€â”€ frontend/          # Vite + React + TypeScript
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/       # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ components/# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/     # ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ hooks/     # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ router/    # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â”‚   â”‚   â””â”€â”€ styles/    # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ ...
â”œâ”€â”€ backend/           # FastAPI + SQLAlchemy
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ core/      # è¨­å®šã€ãƒ­ã‚°ã€ã‚¨ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ db/        # DBæ¥ç¶šã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ models/    # SQLAlchemy ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ schemas/   # Pydantic ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ repositories/ # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”œâ”€â”€ services/  # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ api/       # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ utils/     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docs/              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ .env.example
```

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

ä¸»è¦ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | /api/notes | ãƒãƒ¼ãƒˆä¸€è¦§å–å¾— |
| POST | /api/notes | ãƒãƒ¼ãƒˆä½œæˆ |
| GET | /api/notes/{id} | ãƒãƒ¼ãƒˆè©³ç´°å–å¾— |
| PUT | /api/notes/{id} | ãƒãƒ¼ãƒˆæ›´æ–° |
| DELETE | /api/notes/{id} | ãƒãƒ¼ãƒˆå‰Šé™¤ï¼ˆã‚½ãƒ•ãƒˆï¼‰ |
| POST | /api/notes/{id}/restore | ãƒãƒ¼ãƒˆå¾©å…ƒ |
| GET | /api/notes/{id}/comments | ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§ |
| POST | /api/notes/{id}/comments | ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ |
| GET | /api/tags | ã‚¿ã‚°ä¸€è¦§ |
| POST | /api/files/upload | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
| GET | /api/linkmap | ãƒªãƒ³ã‚¯ãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ |

è©³ç´°ã¯ `/api/docs` ã® Swagger UI ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸](docs/spec.md)
- [è¨­è¨ˆãƒ¡ãƒ¢](docs/design.md)
- [AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰](docs/coding_guide.md)
- [ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ](docs/tasks.md)

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
